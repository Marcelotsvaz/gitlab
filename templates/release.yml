spec:
    inputs:
        name:
            description: Release name.
            default: ${CI_PROJECT_TITLE} ${CI_COMMIT_TAG}
        
        description:
            description: Path to file or string with release description.
            default: __release_changes.md

---

GitLab Release:
    # Create GitLab release as last step in the pipeline.
    
    extends: .releaseStage
    
    image: ${CI_REGISTRY}/vaz-projects/gitlab/builder:latest  # TODO: Update.
    
    script:
      - parse-changelog.fish ${CI_COMMIT_TAG} > $[[ inputs.description ]]
    
    release:
        tag_name: ${CI_COMMIT_TAG}
        name: $[[ inputs.name ]]
        description: $[[ inputs.description ]]